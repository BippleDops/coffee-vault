<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee Journey Timeline</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #1a1410 0%, #3E2723 100%);
            color: #FFF8E1;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5rem;
            color: #FFD700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            text-align: center;
            margin-bottom: 40px;
            color: #D4A574;
            font-size: 1.1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            text-align: center;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #D4A574;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .timeline-container {
            position: relative;
            margin: 40px 0;
            padding: 40px 0;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to bottom, #FFD700, #D4A574);
            transform: translateX(-50%);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 60px;
            display: flex;
            align-items: center;
        }

        .timeline-item:nth-child(odd) {
            flex-direction: row;
        }

        .timeline-item:nth-child(even) {
            flex-direction: row-reverse;
        }

        .timeline-content {
            width: 45%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            position: relative;
        }

        .timeline-item:nth-child(odd) .timeline-content {
            margin-right: auto;
            margin-left: 0;
        }

        .timeline-item:nth-child(even) .timeline-content {
            margin-left: auto;
            margin-right: 0;
        }

        .timeline-date {
            font-size: 0.85rem;
            color: #FFD700;
            font-weight: bold;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .timeline-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #FFF;
        }

        .timeline-description {
            font-size: 0.95rem;
            line-height: 1.6;
            color: #D4A574;
            margin-bottom: 15px;
        }

        .timeline-details {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .detail-badge {
            background: rgba(255, 215, 0, 0.2);
            padding: 6px 12px;
            border-radius: 12px;
            font-size: 0.85rem;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .timeline-dot {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 20px;
            background: #FFD700;
            border-radius: 50%;
            border: 4px solid #2B1810;
            box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.3);
            z-index: 10;
        }

        .milestone-marker {
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .rating-stars {
            color: #FFD700;
            font-size: 1.2rem;
            margin-top: 10px;
        }

        .filters {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-label {
            font-weight: bold;
            color: #FFD700;
        }

        .filter-button {
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid rgba(255, 215, 0, 0.4);
            color: #FFF8E1;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-button:hover,
        .filter-button.active {
            background: rgba(255, 215, 0, 0.4);
            border-color: #FFD700;
        }

        .export-section {
            text-align: center;
            margin-top: 30px;
        }

        .export-btn {
            background: rgba(255, 215, 0, 0.3);
            border: 2px solid #FFD700;
            color: #FFD700;
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .export-btn:hover {
            background: #FFD700;
            color: #2B1810;
        }

        @media (max-width: 768px) {
            .timeline-line {
                left: 20px;
            }

            .timeline-item {
                flex-direction: row !important;
            }

            .timeline-content {
                width: calc(100% - 50px);
                margin-left: 50px !important;
                margin-right: 0 !important;
            }

            .timeline-dot {
                left: 20px;
            }

            h1 {
                font-size: 1.8rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>â˜• Coffee Journey Timeline</h1>
        <p class="subtitle">Your brewing evolution, visualized</p>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="total-sessions">0</div>
                <div class="stat-label">Total Sessions</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="avg-rating">0.0</div>
                <div class="stat-label">Avg Rating</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="total-beans">0</div>
                <div class="stat-label">Beans Tried</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="journey-days">0</div>
                <div class="stat-label">Days of Coffee</div>
            </div>
        </div>

        <div class="filters">
            <span class="filter-label">Filter:</span>
            <button class="filter-button active" data-filter="all">All Events</button>
            <button class="filter-button" data-filter="milestone">Milestones</button>
            <button class="filter-button" data-filter="achievement">Achievements</button>
            <button class="filter-button" data-filter="discovery">Discoveries</button>
        </div>

        <div class="timeline-container" id="timeline">
            <div class="timeline-line"></div>
            <!-- Timeline items will be generated here -->
        </div>

        <div class="export-section">
            <button class="export-btn" onclick="exportTimelineData()">Export Journey Data (JSON)</button>
            <button class="export-btn" onclick="addCustomEvent()">Add Custom Event</button>
        </div>
    </div>

    <script>
        // Sample timeline data (in production, this would come from your vault)
        const timelineData = [
            {
                date: '2025-10-26',
                type: 'milestone',
                title: '100th Brewing Session! ðŸŽ‰',
                description: 'Reached 100 coffee logs! Your consistency is impressive.',
                details: ['Chemex', 'Rating: 4.5', 'Ethiopian Yirgacheffe'],
                rating: 4.5,
                isMilestone: true
            },
            {
                date: '2025-10-20',
                type: 'achievement',
                title: 'Perfect Extraction Achieved',
                description: 'First time hitting the golden ratio with ideal extraction yield.',
                details: ['1:16.5 ratio', '20% TDS', 'V60 method'],
                rating: 5.0
            },
            {
                date: '2025-10-15',
                type: 'discovery',
                title: 'New Origin Discovered',
                description: 'Tried Ethiopian Sidamo for the first time - incredible blueberry notes!',
                details: ['Ethiopia', 'Washed Process', 'Light Roast'],
                rating: 4.8
            },
            {
                date: '2025-10-10',
                type: 'achievement',
                title: 'Consistency Milestone',
                description: '7 consecutive brews rated 4.0 or higher. Your technique is improving!',
                details: ['Avg: 4.3', 'Range: 4.0-4.7', 'V60 & Chemex'],
                rating: 4.3
            },
            {
                date: '2025-10-05',
                type: 'discovery',
                title: 'Equipment Upgrade',
                description: 'Added Comandante grinder to your setup. Game changer for consistency.',
                details: ['Comandante C40', 'Burr: Nitro Blade', 'Investment: $250'],
                rating: null
            },
            {
                date: '2025-09-28',
                type: 'milestone',
                title: '50 Sessions Complete ðŸŽŠ',
                description: 'Halfway to 100! You\'re building a solid foundation.',
                details: ['Avg Rating: 3.8', '5 Origins', '3 Methods'],
                rating: 3.8,
                isMilestone: true
            },
            {
                date: '2025-09-20',
                type: 'achievement',
                title: 'First High-Scoring Brew',
                description: 'Achieved your first 4.5+ rating with Colombian Huila!',
                details: ['Rating: 4.7', 'Aeropress', 'Notes: Caramel, Chocolate'],
                rating: 4.7
            },
            {
                date: '2025-09-15',
                type: 'discovery',
                title: 'Started Grind Size Journal',
                description: 'Began systematically tracking grind size for each method.',
                details: ['V60: 22 clicks', 'Chemex: 28 clicks', 'Aeropress: 15 clicks'],
                rating: null
            },
            {
                date: '2025-09-10',
                type: 'achievement',
                title: 'Temperature Dialing In',
                description: 'Found your sweet spot: 93Â°C for light roasts, 88Â°C for medium.',
                details: ['Light: 93Â°C', 'Medium: 88Â°C', 'Consistency +15%'],
                rating: 4.0
            },
            {
                date: '2025-09-01',
                type: 'milestone',
                title: 'Coffee Vault Journey Begins ðŸš€',
                description: 'Created your first coffee log! Welcome to the journey of systematic brewing.',
                details: ['First bean: Colombian Supremo', 'Method: V60', 'Rating: 3.5'],
                rating: 3.5,
                isMilestone: true
            }
        ];

        // Render timeline
        function renderTimeline(filter = 'all') {
            const timeline = document.getElementById('timeline');
            const filteredData = filter === 'all'
                ? timelineData
                : timelineData.filter(item => item.type === filter);

            const timelineHTML = filteredData.map(item => {
                const stars = item.rating ? 'â˜…'.repeat(Math.floor(item.rating)) + (item.rating % 1 >= 0.5 ? 'Â½' : '') : '';
                const dotClass = item.isMilestone ? 'timeline-dot milestone-marker' : 'timeline-dot';

                return `
                    <div class="timeline-item" data-type="${item.type}">
                        <div class="${dotClass}"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">${formatDate(item.date)}</div>
                            <div class="timeline-title">${item.title}</div>
                            <div class="timeline-description">${item.description}</div>
                            <div class="timeline-details">
                                ${item.details.map(detail => `<span class="detail-badge">${detail}</span>`).join('')}
                            </div>
                            ${item.rating ? `<div class="rating-stars">${stars} ${item.rating.toFixed(1)}</div>` : ''}
                        </div>
                    </div>
                `;
            }).join('');

            timeline.innerHTML = `<div class="timeline-line"></div>${timelineHTML}`;
        }

        // Format date
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        }

        // Update statistics
        function updateStats() {
            document.getElementById('total-sessions').textContent = timelineData.filter(d => d.type !== 'discovery').length;

            const ratingsData = timelineData.filter(d => d.rating !== null);
            const avgRating = ratingsData.reduce((sum, d) => sum + d.rating, 0) / ratingsData.length;
            document.getElementById('avg-rating').textContent = avgRating.toFixed(1);

            document.getElementById('total-beans').textContent = '12+'; // Would calculate from actual data

            const firstDate = new Date(timelineData[timelineData.length - 1].date);
            const lastDate = new Date(timelineData[0].date);
            const daysDiff = Math.floor((lastDate - firstDate) / (1000 * 60 * 60 * 24));
            document.getElementById('journey-days').textContent = daysDiff;
        }

        // Filter buttons
        document.querySelectorAll('.filter-button').forEach(button => {
            button.addEventListener('click', (e) => {
                document.querySelectorAll('.filter-button').forEach(b => b.classList.remove('active'));
                e.target.classList.add('active');
                renderTimeline(e.target.dataset.filter);
            });
        });

        // Initialize
        renderTimeline();
        updateStats();

        // Export functionality
        function exportTimelineData() {
            const dataStr = JSON.stringify(timelineData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'coffee-journey.json';
            link.click();
        }

        // Add custom event
        function addCustomEvent() {
            const title = prompt('Event title:');
            if (!title) return;

            const description = prompt('Description:');
            const type = prompt('Type (milestone/achievement/discovery):') || 'discovery';
            const rating = parseFloat(prompt('Rating (0-5):') || '0');

            const newEvent = {
                date: new Date().toISOString().split('T')[0],
                type: type,
                title: title,
                description: description || '',
                details: ['Custom event'],
                rating: rating > 0 ? rating : null,
                isMilestone: type === 'milestone'
            };

            timelineData.unshift(newEvent);
            renderTimeline();
            updateStats();
        }
    </script>
</body>
</html>
