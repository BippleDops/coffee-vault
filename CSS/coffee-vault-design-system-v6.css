/**
 * Coffee Vault Design System - Version 6.0
 *
 * A comprehensive, UX-driven design system implementing evidence-based
 * principles from Coffee Vault UX Research Summary.
 *
 * Features:
 * - Complete design token system (colors, typography, spacing)
 * - Component library (buttons, cards, forms, dashboards)
 * - Accessibility-first (WCAG 2.1 AA compliant)
 * - Mobile-first responsive design
 * - Dark mode support
 * - Print optimization
 * - Performance optimizations
 *
 * @version 6.0.0
 * @date 2025-11-06
 * @author Coffee Vault Design System Team
 */

/* ============================================
   CSS CUSTOM PROPERTIES (Design Tokens)
   Based on UX Research Summary principles
   ============================================ */

:root {
  /* ===== Color Palette ===== */

  /* Primary Coffee Colors */
  --cv-primary: #5D4037;              /* Coffee brown - main brand color */
  --cv-primary-light: #8D6E63;        /* Light brown - hover states */
  --cv-primary-dark: #3E2723;         /* Dark brown - pressed states */

  /* Accent Colors */
  --cv-accent: #FF6F00;               /* Orange - CTAs, highlights */
  --cv-accent-light: #FFA726;         /* Light orange - hover */
  --cv-accent-dark: #E65100;          /* Dark orange - active */

  /* Semantic Colors */
  --cv-success: #4CAF50;              /* Green - success states */
  --cv-warning: #FFC107;              /* Yellow - warnings */
  --cv-error: #F44336;                /* Red - errors */
  --cv-info: #2196F3;                 /* Blue - informational */

  /* Neutral Colors */
  --cv-text-primary: #212121;         /* Main text - 15.8:1 contrast */
  --cv-text-secondary: #757575;       /* Secondary text - 4.6:1 contrast */
  --cv-text-disabled: #BDBDBD;        /* Disabled text */
  --cv-bg: #FAFAFA;                   /* Page background */
  --cv-surface: #FFFFFF;              /* Card/component surface */
  --cv-divider: #E0E0E0;              /* Borders and dividers */

  /* ===== Typography ===== */

  /* Font Families */
  --cv-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI',
                     Roboto, 'Helvetica Neue', Arial, sans-serif;
  --cv-font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Consolas',
                   'Courier New', monospace;

  /* Font Sizes (Major Third Scale - 1.250) */
  --cv-text-xs: 0.75rem;              /* 12px - captions, labels */
  --cv-text-sm: 0.875rem;             /* 14px - help text, small body */
  --cv-text-base: 1rem;               /* 16px - body text, default */
  --cv-text-lg: 1.25rem;              /* 20px - H3, subheadings */
  --cv-text-xl: 1.5rem;               /* 24px - H2, section titles */
  --cv-text-2xl: 2rem;                /* 32px - H1, page titles */
  --cv-text-3xl: 2.5rem;              /* 40px - hero text, special */

  /* Line Heights */
  --cv-leading-tight: 1.25;           /* Headings */
  --cv-leading-normal: 1.5;           /* Body text - optimal readability */
  --cv-leading-relaxed: 1.75;         /* Long-form content */

  /* Font Weights */
  --cv-weight-light: 300;
  --cv-weight-normal: 400;
  --cv-weight-medium: 500;
  --cv-weight-semibold: 600;
  --cv-weight-bold: 700;

  /* ===== Spacing Scale (8px base unit) ===== */

  --cv-space-1: 0.25rem;              /* 4px - tight spacing */
  --cv-space-2: 0.5rem;               /* 8px - base unit */
  --cv-space-3: 0.75rem;              /* 12px - comfortable */
  --cv-space-4: 1rem;                 /* 16px - section spacing */
  --cv-space-5: 1.5rem;               /* 24px - large spacing */
  --cv-space-6: 2rem;                 /* 32px - extra large */
  --cv-space-8: 3rem;                 /* 48px - section dividers */
  --cv-space-10: 4rem;                /* 64px - page-level spacing */

  /* ===== Border Radius ===== */

  --cv-radius-sm: 4px;                /* Small elements */
  --cv-radius-md: 8px;                /* Buttons, inputs */
  --cv-radius-lg: 12px;               /* Cards */
  --cv-radius-xl: 16px;               /* Large containers */
  --cv-radius-full: 9999px;           /* Circles, pills */

  /* ===== Shadows (Coffee-themed) ===== */

  --cv-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --cv-shadow-md: 0 2px 8px rgba(0, 0, 0, 0.08);
  --cv-shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.12);
  --cv-shadow-xl: 0 8px 32px rgba(0, 0, 0, 0.16);

  /* Coffee-specific shadows with brown tint */
  --cv-shadow-coffee-sm: 0 2px 4px rgba(93, 64, 55, 0.15);
  --cv-shadow-coffee-md: 0 4px 12px rgba(93, 64, 55, 0.2);
  --cv-shadow-coffee-lg: 0 8px 24px rgba(93, 64, 55, 0.25);

  /* ===== Transitions ===== */

  --cv-transition-fast: 100ms ease-out;
  --cv-transition-base: 200ms ease-out;
  --cv-transition-slow: 300ms ease-out;

  /* ===== Z-Index Scale ===== */

  --cv-z-base: 0;
  --cv-z-dropdown: 1000;
  --cv-z-sticky: 1020;
  --cv-z-fixed: 1030;
  --cv-z-modal-backdrop: 1040;
  --cv-z-modal: 1050;
  --cv-z-popover: 1060;
  --cv-z-tooltip: 1070;

  /* ===== Breakpoints (for reference) ===== */

  --cv-bp-mobile: 480px;
  --cv-bp-tablet: 768px;
  --cv-bp-desktop: 1024px;
  --cv-bp-wide: 1280px;
}

/* ============================================
   DARK MODE OVERRIDES
   ============================================ */

.theme-dark {
  /* Adjusted colors for dark mode readability */
  --cv-primary: #8D6E63;              /* Lighter brown for visibility */
  --cv-primary-light: #A1887F;
  --cv-primary-dark: #6D4C41;

  --cv-accent: #FFA726;               /* Brighter orange */
  --cv-accent-light: #FFB74D;
  --cv-accent-dark: #FF9800;

  /* Inverted neutrals */
  --cv-text-primary: #E0E0E0;
  --cv-text-secondary: #B0B0B0;
  --cv-text-disabled: #616161;
  --cv-bg: #1E1E1E;
  --cv-surface: #2D2D2D;
  --cv-divider: #424242;

  /* Adjusted semantic colors */
  --cv-success: #66BB6A;
  --cv-warning: #FFD54F;
  --cv-error: #EF5350;
  --cv-info: #42A5F5;

  /* Enhanced shadows for dark mode */
  --cv-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
  --cv-shadow-md: 0 2px 8px rgba(0, 0, 0, 0.4);
  --cv-shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.5);
  --cv-shadow-xl: 0 8px 32px rgba(0, 0, 0, 0.6);
}

/* ============================================
   TYPOGRAPHY SYSTEM
   Based on visual hierarchy principles
   ============================================ */

/* Base typography */
body {
  font-family: var(--cv-font-family);
  font-size: var(--cv-text-base);
  line-height: var(--cv-leading-normal);
  color: var(--cv-text-primary);
  background-color: var(--cv-bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Headings with coffee-themed styling */
.markdown-preview-view h1,
h1 {
  font-size: var(--cv-text-2xl);      /* 32px */
  font-weight: var(--cv-weight-bold);
  line-height: var(--cv-leading-tight);
  color: var(--cv-primary-dark);
  margin-top: var(--cv-space-8);
  margin-bottom: var(--cv-space-4);
  letter-spacing: -0.02em;
}

.markdown-preview-view h2,
h2 {
  font-size: var(--cv-text-xl);       /* 24px */
  font-weight: var(--cv-weight-bold);
  line-height: var(--cv-leading-tight);
  color: var(--cv-primary-dark);
  margin-top: var(--cv-space-6);
  margin-bottom: var(--cv-space-3);
}

.markdown-preview-view h3,
h3 {
  font-size: var(--cv-text-lg);       /* 20px */
  font-weight: var(--cv-weight-semibold);
  line-height: var(--cv-leading-tight);
  color: var(--cv-primary);
  margin-top: var(--cv-space-5);
  margin-bottom: var(--cv-space-3);
}

.markdown-preview-view h4,
h4 {
  font-size: var(--cv-text-base);
  font-weight: var(--cv-weight-semibold);
  line-height: var(--cv-leading-normal);
  color: var(--cv-primary);
  margin-top: var(--cv-space-4);
  margin-bottom: var(--cv-space-2);
}

/* Body text optimization */
.markdown-preview-view,
.markdown-preview-view p {
  font-family: var(--cv-font-family);
  font-size: var(--cv-text-base);
  line-height: var(--cv-leading-normal);
  color: var(--cv-text-primary);
  margin-bottom: var(--cv-space-4);
}

/* Links with coffee accent */
.markdown-preview-view a,
a {
  color: var(--cv-accent);
  text-decoration: none;
  transition: color var(--cv-transition-fast);
  font-weight: var(--cv-weight-medium);
}

.markdown-preview-view a:hover,
a:hover {
  color: var(--cv-accent-dark);
  text-decoration: underline;
}

/* Code blocks with coffee theme */
.markdown-preview-view code,
code {
  font-family: var(--cv-font-mono);
  font-size: 0.875em;
  background-color: rgba(93, 64, 55, 0.08);
  color: var(--cv-primary-dark);
  padding: var(--cv-space-1) var(--cv-space-2);
  border-radius: var(--cv-radius-sm);
  border: 1px solid var(--cv-divider);
}

.markdown-preview-view pre,
pre {
  font-family: var(--cv-font-mono);
  font-size: var(--cv-text-sm);
  background-color: var(--cv-surface);
  border: 1px solid var(--cv-divider);
  border-radius: var(--cv-radius-md);
  padding: var(--cv-space-4);
  overflow-x: auto;
  margin-bottom: var(--cv-space-4);
  box-shadow: var(--cv-shadow-sm);
}

.markdown-preview-view pre code,
pre code {
  background-color: transparent;
  padding: 0;
  border: none;
}

/* Lists */
.markdown-preview-view ul,
.markdown-preview-view ol {
  margin-bottom: var(--cv-space-4);
  padding-left: var(--cv-space-6);
}

.markdown-preview-view li {
  margin-bottom: var(--cv-space-2);
  line-height: var(--cv-leading-relaxed);
}

/* Blockquotes */
.markdown-preview-view blockquote {
  border-left: 4px solid var(--cv-accent);
  padding-left: var(--cv-space-4);
  margin-left: 0;
  margin-bottom: var(--cv-space-4);
  font-style: italic;
  color: var(--cv-text-secondary);
}

/* Horizontal rules */
.markdown-preview-view hr,
hr {
  border: none;
  border-top: 2px solid var(--cv-divider);
  margin: var(--cv-space-8) 0;
}

/* ============================================
   BUTTON COMPONENTS
   Based on Fitts's Law (44x44px minimum)
   ============================================ */

.cv-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--cv-space-2);
  padding: 12px 24px;
  min-height: 44px;                   /* Fitts's Law compliance */
  min-width: 120px;
  font-family: var(--cv-font-family);
  font-size: var(--cv-text-base);
  font-weight: var(--cv-weight-medium);
  line-height: 1;
  text-decoration: none;
  border: none;
  border-radius: var(--cv-radius-md);
  cursor: pointer;
  transition: all var(--cv-transition-base);
  white-space: nowrap;
  user-select: none;
}

.cv-btn-primary {
  background-color: var(--cv-primary);
  color: white;
  box-shadow: var(--cv-shadow-sm);
}

.cv-btn-primary:hover {
  background-color: var(--cv-primary-dark);
  transform: translateY(-2px);
  box-shadow: var(--cv-shadow-md);
}

.cv-btn-primary:active {
  transform: translateY(0);
  box-shadow: var(--cv-shadow-sm);
}

.cv-btn-secondary {
  background-color: transparent;
  color: var(--cv-primary);
  border: 2px solid var(--cv-primary-light);
  box-shadow: none;
}

.cv-btn-secondary:hover {
  background-color: var(--cv-primary-light);
  color: white;
  border-color: var(--cv-primary);
  transform: translateY(-2px);
  box-shadow: var(--cv-shadow-sm);
}

.cv-btn-accent {
  background-color: var(--cv-accent);
  color: white;
  box-shadow: var(--cv-shadow-sm);
}

.cv-btn-accent:hover {
  background-color: var(--cv-accent-dark);
  transform: translateY(-2px);
  box-shadow: var(--cv-shadow-md);
}

/* Button sizes */
.cv-btn-sm {
  padding: 8px 16px;
  min-height: 36px;
  font-size: var(--cv-text-sm);
  min-width: 80px;
}

.cv-btn-lg {
  padding: 16px 32px;
  min-height: 56px;
  font-size: var(--cv-text-lg);
  min-width: 160px;
}

/* Full-width button */
.cv-btn-block {
  width: 100%;
  display: flex;
}

/* ============================================
   CARD COMPONENTS
   Based on Aesthetic-Usability Effect
   ============================================ */

.cv-card {
  background-color: var(--cv-surface);
  border-radius: var(--cv-radius-lg);
  padding: var(--cv-space-6);
  box-shadow: var(--cv-shadow-md);
  border: 1px solid var(--cv-divider);
  transition: box-shadow var(--cv-transition-base),
              transform var(--cv-transition-base);
  margin-bottom: var(--cv-space-4);
}

.cv-card:hover {
  box-shadow: var(--cv-shadow-lg);
  transform: translateY(-2px);
}

.cv-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--cv-space-4);
  padding-bottom: var(--cv-space-3);
  border-bottom: 2px solid var(--cv-divider);
}

.cv-card-title {
  font-size: var(--cv-text-lg);
  font-weight: var(--cv-weight-bold);
  color: var(--cv-primary-dark);
  margin: 0;
}

.cv-card-subtitle {
  font-size: var(--cv-text-sm);
  color: var(--cv-text-secondary);
  margin: var(--cv-space-1) 0 0 0;
}

.cv-card-body {
  padding: var(--cv-space-4) 0;
}

.cv-card-footer {
  margin-top: var(--cv-space-4);
  padding-top: var(--cv-space-4);
  border-top: 1px solid var(--cv-divider);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--cv-space-3);
}

/* Card variants */
.cv-card-glass {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: var(--cv-shadow-xl);
}

/* ============================================
   DASHBOARD LAYOUTS
   Based on Jakob's Law (familiar patterns)
   ============================================ */

.cv-dashboard-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--cv-space-6);
  margin-bottom: var(--cv-space-8);
}

.cv-dashboard-header {
  margin-bottom: var(--cv-space-6);
  padding-bottom: var(--cv-space-4);
  border-bottom: 2px solid var(--cv-divider);
}

.cv-dashboard-title {
  font-size: var(--cv-text-2xl);
  font-weight: var(--cv-weight-bold);
  color: var(--cv-primary-dark);
  margin: 0 0 var(--cv-space-2) 0;
}

.cv-dashboard-description {
  font-size: var(--cv-text-base);
  color: var(--cv-text-secondary);
  margin: 0;
  line-height: var(--cv-leading-relaxed);
}

.cv-dashboard-actions {
  display: flex;
  gap: var(--cv-space-3);
  margin-top: var(--cv-space-4);
}

.cv-dashboard-section {
  margin-bottom: var(--cv-space-8);
}

.cv-dashboard-section-title {
  font-size: var(--cv-text-xl);
  font-weight: var(--cv-weight-semibold);
  color: var(--cv-primary-dark);
  margin: 0 0 var(--cv-space-4) 0;
}

/* ============================================
   PERSONA CARDS
   Based on Progressive Disclosure
   ============================================ */

.cv-persona-card {
  background-color: var(--cv-surface);
  border-radius: var(--cv-radius-lg);
  padding: var(--cv-space-6);
  border: 2px solid var(--cv-divider);
  cursor: pointer;
  transition: all var(--cv-transition-base);
  text-align: center;
}

.cv-persona-card:hover {
  border-color: var(--cv-primary-light);
  transform: translateY(-4px);
  box-shadow: var(--cv-shadow-lg);
}

.cv-persona-card.active {
  border-color: var(--cv-accent);
  background-color: rgba(255, 111, 0, 0.05);
  box-shadow: var(--cv-shadow-md);
}

.cv-persona-card-icon {
  font-size: 3rem;
  margin-bottom: var(--cv-space-3);
}

.cv-persona-card-title {
  font-size: var(--cv-text-lg);
  font-weight: var(--cv-weight-bold);
  color: var(--cv-primary-dark);
  margin: 0 0 var(--cv-space-2) 0;
}

.cv-persona-card-description {
  font-size: var(--cv-text-sm);
  color: var(--cv-text-secondary);
  line-height: var(--cv-leading-normal);
}

/* ============================================
   HOME DASHBOARD SPECIFIC
   ============================================ */

.home-dashboard {
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--cv-space-6);
}

.home-hero {
  text-align: center;
  padding: var(--cv-space-10) 0;
  margin-bottom: var(--cv-space-8);
}

.home-hero-title {
  font-size: var(--cv-text-3xl);
  font-weight: var(--cv-weight-bold);
  color: var(--cv-primary-dark);
  margin: 0 0 var(--cv-space-3) 0;
  letter-spacing: -0.03em;
}

.home-hero-subtitle {
  font-size: var(--cv-text-lg);
  color: var(--cv-text-secondary);
  max-width: 600px;
  margin: 0 auto;
  line-height: var(--cv-leading-relaxed);
}

.persona-selector {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--cv-space-4);
  margin-bottom: var(--cv-space-8);
}

.quick-actions {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--cv-space-4);
  margin-bottom: var(--cv-space-8);
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: var(--cv-space-4);
}

.stat-tile {
  background-color: var(--cv-surface);
  border-radius: var(--cv-radius-lg);
  padding: var(--cv-space-5);
  text-align: center;
  box-shadow: var(--cv-shadow-sm);
  transition: transform var(--cv-transition-base),
              box-shadow var(--cv-transition-base);
}

.stat-tile:hover {
  transform: translateY(-2px);
  box-shadow: var(--cv-shadow-md);
}

.stat-value {
  font-size: var(--cv-text-2xl);
  font-weight: var(--cv-weight-bold);
  color: var(--cv-accent);
  line-height: var(--cv-leading-tight);
}

.stat-label {
  font-size: var(--cv-text-sm);
  font-weight: var(--cv-weight-medium);
  color: var(--cv-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-top: var(--cv-space-2);
}

/* ============================================
   DATAVIEW TABLE STYLING
   Based on Visual Hierarchy
   ============================================ */

.dataview.table-view-table {
  width: 100%;
  border-collapse: collapse;
  background-color: var(--cv-surface);
  border-radius: var(--cv-radius-lg);
  overflow: hidden;
  box-shadow: var(--cv-shadow-md);
  margin-bottom: var(--cv-space-6);
}

.dataview.table-view-table thead {
  background-color: var(--cv-primary);
  color: white;
}

.dataview.table-view-table thead th {
  padding: var(--cv-space-3) var(--cv-space-4);
  text-align: left;
  font-weight: var(--cv-weight-semibold);
  font-size: var(--cv-text-sm);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border-bottom: 2px solid var(--cv-primary-dark);
}

.dataview.table-view-table tbody td {
  padding: var(--cv-space-3) var(--cv-space-4);
  border-bottom: 1px solid var(--cv-divider);
  font-size: var(--cv-text-sm);
  color: var(--cv-text-primary);
}

.dataview.table-view-table tbody tr:hover {
  background-color: rgba(93, 64, 55, 0.05);
  transition: background-color var(--cv-transition-fast);
}

.dataview.table-view-table tbody tr:nth-child(even) {
  background-color: rgba(0, 0, 0, 0.02);
}

.dataview.table-view-table tbody tr:last-child td {
  border-bottom: none;
}

/* ============================================
   CALLOUT STYLING (Coffee-themed)
   Based on Information Scent
   ============================================ */

.callout[data-callout="coffee"] {
  background-color: rgba(93, 64, 55, 0.1);
  border-left: 4px solid var(--cv-primary);
  padding: var(--cv-space-4);
  border-radius: var(--cv-radius-md);
  margin-bottom: var(--cv-space-4);
}

.callout[data-callout="coffee"] .callout-title {
  color: var(--cv-primary-dark);
  font-weight: var(--cv-weight-bold);
  margin-bottom: var(--cv-space-2);
}

.callout[data-callout="brew"] {
  background-color: rgba(255, 111, 0, 0.1);
  border-left: 4px solid var(--cv-accent);
  padding: var(--cv-space-4);
  border-radius: var(--cv-radius-md);
  margin-bottom: var(--cv-space-4);
}

.callout[data-callout="brew"] .callout-title {
  color: var(--cv-accent-dark);
  font-weight: var(--cv-weight-bold);
  margin-bottom: var(--cv-space-2);
}

.callout[data-callout="science"] {
  background-color: rgba(33, 150, 243, 0.1);
  border-left: 4px solid var(--cv-info);
  padding: var(--cv-space-4);
  border-radius: var(--cv-radius-md);
  margin-bottom: var(--cv-space-4);
}

.callout[data-callout="science"] .callout-title {
  color: var(--cv-info);
  font-weight: var(--cv-weight-bold);
  margin-bottom: var(--cv-space-2);
}

/* ============================================
   ACCESSIBILITY FEATURES
   Based on WCAG 2.1 AA Standards
   ============================================ */

/* Focus states for keyboard navigation */
*:focus-visible {
  outline: 2px solid var(--cv-accent);
  outline-offset: 2px;
  border-radius: 2px;
}

/* Remove default focus for mouse users */
*:focus:not(:focus-visible) {
  outline: none;
}

/* Skip link for screen readers */
.cv-skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background-color: var(--cv-primary);
  color: white;
  padding: var(--cv-space-2) var(--cv-space-4);
  text-decoration: none;
  font-weight: var(--cv-weight-bold);
  z-index: var(--cv-z-tooltip);
  border-radius: 0 0 var(--cv-radius-md) 0;
}

.cv-skip-link:focus {
  top: 0;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --cv-primary: #3E2723;
    --cv-text-primary: #000000;
    --cv-surface: #FFFFFF;
  }

  .cv-btn,
  .cv-card,
  input,
  select,
  textarea {
    border: 2px solid currentColor;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Screen reader only content */
.cv-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* ============================================
   RESPONSIVE DESIGN
   Mobile-first approach
   ============================================ */

/* Base styles are mobile (< 768px) */

/* Tablet (768px - 1024px) */
@media (min-width: 768px) {
  .cv-dashboard-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .persona-selector {
    grid-template-columns: repeat(2, 1fr);
  }

  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Desktop (> 1024px) */
@media (min-width: 1024px) {
  .cv-dashboard-grid {
    grid-template-columns: repeat(3, 1fr);
  }

  .persona-selector {
    grid-template-columns: repeat(4, 1fr);
  }

  .stats-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

/* Mobile specific adjustments (< 768px) */
@media (max-width: 767px) {
  /* Larger touch targets */
  .cv-btn {
    min-height: 48px;
    padding: 14px 24px;
  }

  /* Single column layouts */
  .cv-dashboard-grid,
  .persona-selector,
  .quick-actions,
  .stats-grid {
    grid-template-columns: 1fr;
  }

  /* Reduced font sizes for mobile */
  .home-hero-title {
    font-size: var(--cv-text-xl);
  }

  /* Reduced padding */
  .home-dashboard {
    padding: var(--cv-space-4);
  }

  .cv-card {
    padding: var(--cv-space-4);
  }
}

/* ============================================
   GLASSMORPHISM EFFECTS
   Use sparingly for special sections
   ============================================ */

.cv-glass-card {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: var(--cv-shadow-xl);
  border-radius: var(--cv-radius-lg);
  padding: var(--cv-space-6);
}

.theme-dark .cv-glass-card {
  background: rgba(45, 45, 45, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
  body {
    background: white;
    color: black;
    font-size: 12pt;
  }

  .cv-card,
  .cv-dashboard-grid,
  .dataview.table-view-table {
    box-shadow: none;
    border: 1px solid #000;
    page-break-inside: avoid;
  }

  .cv-btn,
  .cv-dashboard-actions,
  .no-print {
    display: none;
  }

  a {
    text-decoration: underline;
    color: black;
  }

  h1, h2, h3 {
    page-break-after: avoid;
  }

  /* Expand collapsed sections */
  details {
    display: block;
  }

  summary {
    display: none;
  }
}

/* ============================================
   OBSIDIAN-SPECIFIC INTEGRATIONS
   ============================================ */

/* Markdown preview adjustments */
.markdown-preview-view {
  padding: var(--cv-space-6);
  max-width: 1000px;
  margin: 0 auto;
}

/* Tag styling */
.tag {
  background-color: rgba(255, 111, 0, 0.15);
  color: var(--cv-accent-dark);
  padding: var(--cv-space-1) var(--cv-space-2);
  border-radius: var(--cv-radius-sm);
  font-size: var(--cv-text-xs);
  font-weight: var(--cv-weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border: 1px solid rgba(255, 111, 0, 0.3);
}

/* Frontmatter styling */
.frontmatter-container {
  background-color: rgba(93, 64, 55, 0.05);
  border-radius: var(--cv-radius-md);
  padding: var(--cv-space-4);
  margin-bottom: var(--cv-space-6);
  border: 1px solid var(--cv-divider);
}

/* ============================================
   PERFORMANCE OPTIMIZATIONS
   ============================================ */

/* GPU acceleration for animations */
.cv-card,
.cv-btn,
.cv-persona-card {
  will-change: transform;
  transform: translateZ(0);
}

/* Reduce repaints */
.cv-dashboard-grid,
.dataview.table-view-table {
  contain: layout style paint;
}

/* ============================================
   END OF COFFEE VAULT DESIGN SYSTEM V6
   ============================================ */

/**
 * Usage Instructions:
 *
 * 1. Copy this file to your Obsidian vault's CSS snippets folder:
 *    .obsidian/snippets/coffee-vault-design-system-v6.css
 *
 * 2. Enable the snippet in Obsidian:
 *    Settings > Appearance > CSS snippets > Enable toggle
 *
 * 3. Use classes in your markdown files:
 *    <div class="cv-card">...</div>
 *    <button class="cv-btn cv-btn-primary">Click me</button>
 *
 * 4. Customize by overriding CSS variables:
 *    :root { --cv-primary: #YOUR_COLOR; }
 *
 * 5. See CSS/README.md for complete documentation
 */
