---
type: reference
tags: [science, extraction, chemistry, education, advanced]
---

# âš—ï¸ Coffee Science & Extraction

**Understanding the chemistry and physics behind great coffee**

From roasting transformations to extraction optimization, this guide explains the science that makes coffee delicious.

---

## ðŸ”¬ Coffee Bean Chemistry

### What's Inside a Coffee Bean?

**Composition of Roasted Coffee**:

**Carbohydrates** (~50%):
- Polysaccharides (fiber, cellulose)
- Sugars (sucrose, glucose, fructose)
- Caramelized during roasting
- Contribute body and sweetness

**Lipids/Oils** (~15-17%):
- Coffee oils (cafestol, kahweol)
- Flavor carriers
- Create crema in espresso
- Filtered by paper, retained by metal

**Proteins** (~10-13%):
- Amino acids
- Contribute to Maillard reaction
- Browning during roasting
- Flavor development

**Acids** (~5-8%):
- Chlorogenic acids (most abundant)
- Quinic acid
- Citric, malic, acetic acids
- Create brightness and complexity

**Caffeine** (~1-2.5%):
- Arabica: 1-1.5%
- Robusta: 2-2.5%
- Stimulant alkaloid
- Bitter taste contributor

**Minerals** (~3-5%):
- Potassium, magnesium, calcium
- Contribute to taste and mouthfeel

**Aromatic Compounds** (850+):
- Created during roasting (Maillard reaction)
- Most complex food aroma profile
- Volatile (degrade over time)

---

## ðŸ”¥ Roasting Transformations

### Physical Changes

**Green to Roasted**:

**Weight Loss**: 15-20%
- Water evaporation
- CO2 and volatile compounds released
- Chaff (silverskin) removed

**Volume Increase**: 50-100%
- CO2 gas trapped in cells
- Cell structure expands
- Creates porous structure

**Color Change**:
- Green/yellow â†’ tan â†’ light brown â†’ medium brown â†’ dark brown â†’ black
- Caramelization and Maillard reaction
- Chlorophyll breaks down

**Density Decrease**:
- More porous and brittle
- Easier to grind
- More soluble

### Chemical Reactions

**Maillard Reaction** (300-400Â°F / 150-200Â°C):
- Amino acids + reducing sugars â†’ melanoidins (brown compounds)
- Creates hundreds of flavor compounds
- Non-enzymatic browning
- Develops coffee flavor complexity

**Caramelization** (~340Â°F / 170Â°C):
- Sucrose breaks down
- Creates caramel flavor compounds
- Bittersweet taste development
- Continues through roast

**Strecker Degradation**:
- Amino acids break down
- Creates aldehydes (aromatic compounds)
- Contributes to coffee aroma

**Pyrolysis** (Very Dark Roasts):
- Breakdown of organic compounds
- Smoky, charred flavors
- Loss of origin character
- Bitterness increases

### Roast Levels Explained

**Light Roast** (City, Cinnamon):
- **End Temp**: 385-400Â°F (196-204Â°C)
- **Development**: Dropped shortly after first crack
- **Flavor**: Acidic, bright, origin-forward, fruity
- **Appearance**: Light brown, no oils, matte
- **Best For**: Single origins, delicate flavors, pour-over

**Medium Roast** (Full City, American):
- **End Temp**: 410-425Â°F (210-218Â°C)
- **Development**: After first crack, before second
- **Flavor**: Balanced, sweet, moderate acidity, caramel
- **Appearance**: Medium brown, slight sheen, rarely oily
- **Best For**: Versatile, espresso, drip, most methods

**Dark Roast** (Vienna, French, Italian):
- **End Temp**: 435-450Â°F (224-232Â°C)
- **Development**: Into or past second crack
- **Flavor**: Roast-forward, low acidity, bitter-sweet, smoky
- **Appearance**: Dark brown to black, oily surface
- **Best For**: Espresso blends, French roast style, milk drinks

---

## ðŸ’§ Extraction Fundamentals

### What is Extraction?

**Definition**: Process of dissolving coffee's soluble compounds into water

**Target Range**: 18-22% extraction
- Under 18%: Under-extracted (sour, weak, unbalanced)
- 18-22%: Optimal (balanced, sweet, complex)
- Over 22%: Over-extracted (bitter, astringent, hollow)

**Strength vs Extraction**:
- **Strength**: How much coffee is in water (ratio determines this)
- **Extraction**: What percentage of coffee mass dissolves (technique determines this)
- Can have strong under-extracted coffee (high dose, poor technique)
- Can have weak well-extracted coffee (low dose, good technique)

### Extraction Timeline

**What Dissolves When**:

**Early (First 30%)** â†’ 0-60 seconds:
- Fruity esters, light aromatics
- Acids (bright, sour if alone)
- Floral compounds
- Fruit flavors

**Middle (30-60%)** â†’ 60-120 seconds:
- Sugars and sweetness
- Caramelized compounds
- Mellowing components
- Body development

**Late (60-100%)** â†’ 120+ seconds:
- Bitter compounds
- Astringent tannins
- Heavy oils
- Harsh flavors

**Goal**: Stop at optimal point (18-22%, sweet spot)

---

## ðŸŽ¯ Factors Affecting Extraction

### 1. Grind Size (BIGGEST IMPACT)

**Finer Grind**:
- â†‘ Surface area exposed
- â†‘ Extraction rate
- â†‘ Extraction potential
- â†‘ Resistance to water flow
- Risk: Over-extraction (bitter)

**Coarser Grind**:
- â†“ Surface area
- â†“ Extraction rate
- â†“ Extraction potential
- â†“ Resistance to water
- Risk: Under-extraction (sour)

**Optimal Grind** (varies by method):
- Turkish: Extra fine (powder)
- Espresso: Very fine
- Aeropress: Fine to medium
- Pour-over: Medium-fine
- Drip: Medium
- French Press: Coarse
- Cold brew: Extra coarse

### 2. Water Temperature

**Hotter Water** (195-205Â°F / 90-96Â°C):
- â†‘ Solubility of compounds
- â†‘ Extraction speed
- â†‘ Extraction total
- Best for: Light roasts, under-extracting

**Cooler Water** (185-195Â°F / 85-90Â°C):
- â†“ Solubility
- â†“ Extraction speed
- â†“ Bitterness
- Best for: Dark roasts, over-extracting

**Too Hot** (>205Â°F / 96Â°C):
- Scalds coffee
- Harsh, astringent
- Over-extraction

**Too Cool** (<185Â°F / 85Â°C):
- Weak extraction
- Sour, underdeveloped
- Flat flavor

**Optimal Range**: 195-205Â°F (90-96Â°C) for most methods

### 3. Contact Time

**Longer Contact**:
- â†‘ Extraction
- More compounds dissolved
- Risk: Over-extraction

**Shorter Contact**:
- â†“ Extraction
- Fewer compounds dissolved
- Risk: Under-extraction

**Method Comparison**:
- Espresso: 25-30 seconds
- Aeropress: 1-3 minutes
- Pour-over: 2.5-4 minutes
- French Press: 4 minutes
- Cold brew: 12-24 hours

### 4. Agitation

**More Agitation** (stirring, swirling):
- â†‘ Extraction rate
- â†‘ Even extraction
- â†‘ Turbulence
- Risk: Over-extraction, channeling

**Less Agitation**:
- â†“ Extraction rate
- Gentler brew
- Less disruption
- Risk: Uneven extraction

**Methods Use Different Agitation**:
- Espresso: Pressure = extreme agitation
- Aeropress: Stirring recommended
- V60: Gentle swirl at bloom
- French Press: Stir to break crust
- Chemex: Minimal (pour pattern only)

### 5. Coffee-to-Water Ratio

**More Coffee** (1:12-1:14):
- Stronger brew
- More concentrated
- Higher TDS
- Same extraction %

**Less Coffee** (1:16-1:18):
- Weaker brew
- More diluted
- Lower TDS
- Same extraction %

**Common Ratios**:
- Espresso: 1:2 to 1:3
- Strong: 1:12-1:14
- Standard: 1:15-1:17
- Weak: 1:18-1:20

### 6. Water Quality

**Hard Water** (high mineral content):
- â†‘ Extraction (magnesium helps)
- Can taste minerally
- Scale buildup in equipment

**Soft Water** (low mineral content):
- â†“ Extraction
- Flat, dull taste
- Can be corrosive

**Optimal Water**:
- 75-250 ppm TDS
- Magnesium: 10-30 ppm
- Calcium: 20-80 ppm
- pH: 6.5-7.5

---

## ðŸŽ¯ Measuring Extraction

### TDS (Total Dissolved Solids)

**What It Measures**: Percentage of coffee in your brew

**Measurement**:
- Use refractometer
- Measures how much light bends through liquid
- Higher TDS = stronger coffee
- Typical range: 1.2-1.5% TDS

**Calculation**:
```
Extraction % = (Brew Weight Ã— TDS) / Coffee Dose Ã— 100
```

**Example**:
- 20g coffee â†’ 300g brew @ 1.35% TDS
- Extraction = (300 Ã— 1.35) / 20 = 20.25% âœ… Good!

### Without Refractometer

**Taste Indicators**:

**Under-Extracted** (<18%):
- Tastes: Sour, salty, grassy, thin
- Fix: Grind finer, hotter water, longer time

**Well-Extracted** (18-22%):
- Tastes: Sweet, balanced, complex, pleasant
- Goal: Stay here!

**Over-Extracted** (>22%):
- Tastes: Bitter, astringent, hollow, dry
- Fix: Grind coarser, cooler water, shorter time

**Coffee Compass** (Barista Hustle):
- Sour + Weak = Under-extracted, too little coffee
- Sour + Strong = Under-extracted, enough coffee â†’ grind finer
- Bitter + Weak = Over-extracted, too little coffee â†’ use more coffee
- Bitter + Strong = Over-extracted â†’ grind coarser

---

## ðŸŒ¡ï¸ Water Chemistry Deep Dive

### Why Water Matters

**Coffee is 98-99% Water**:
- Water quality determines ceiling of cup quality
- Bad water â†’ can't make good coffee
- Good water â†’ necessary but not sufficient

### Key Components

**Calcium (CaÂ²âº)**:
- Enhances body and mouthfeel
- Can create chalky taste in excess
- Causes scale at high levels
- Target: 20-80 ppm

**Magnesium (MgÂ²âº)**:
- **Most important for extraction**
- Binds to coffee compounds
- Enhances flavor extraction
- Doesn't cause scale like calcium
- Target: 10-30 ppm

**Bicarbonate (HCOâ‚ƒâ»)**:
- Buffer (resists pH changes)
- High levels = chalky, flat taste
- Neutralizes acids (can dull brightness)
- Target: 40-75 ppm

**Total Hardness**:
- Sum of calcium and magnesium
- Affects extraction and taste
- SCAA Standard: 17-85 ppm as CaCOâ‚ƒ

**Total Dissolved Solids (TDS)**:
- All minerals in water
- Affects extraction capacity
- SCAA Standard: 75-250 ppm

**pH**:
- Acidity/alkalinity of water
- Affects extraction and flavor
- Target: 6.5-7.5 (slightly acidic to neutral)

### Common Water Sources

**Tap Water**:
- Varies wildly by location
- Chicago: Moderately hard, decent for coffee
- NYC: Soft, legendary for bagels and coffee
- LA: Hard, needs filtration
- **Test first before using**

**Filtered Water**:
- Removes chlorine, some minerals
- Brita/PUR: Adequate for coffee
- Can over-filter (removes needed minerals)

**Reverse Osmosis (RO)**:
- Removes nearly everything
- Too pure for coffee (0 ppm)
- Must add minerals back

**Distilled**:
- Zero minerals
- Terrible for coffee (flat, can't extract)
- Never use without remineralizing

**Bottled Water**:
- Varies by brand
- Check TDS and hardness
- Evian: Good (~345 ppm, balanced)
- Fiji: Decent (~222 ppm)
- Dasani: Remineralized RO (~40 ppm, too soft)

### DIY Coffee Water Recipes

**Third Wave Water** (Commercial Product):
- Magnesium sulfate + calcium citrate + sodium bicarbonate
- Packets add to distilled/RO water
- Creates ideal coffee water
- Consistent, repeatable

**Barista Hustle Water** (DIY):
For 1 gallon distilled water:
- 5.36g magnesium sulfate
- 2.17g calcium chloride
Creates 100 ppm solution, dilute to preference

**Simple Recipe**:
For 1 liter RO/distilled:
- 0.3g epsom salt (magnesium sulfate)
- 0.2g baking soda (sodium bicarbonate)
Creates ~80 ppm water suitable for brewing

---

## ðŸ“Š Extraction Variables Matrix

### The Extraction Matrix

| Variable | Increase â†’ Effect | Decrease â†’ Effect |
|----------|-------------------|-------------------|
| **Grind Size (finer)** | â†‘ Extraction | â†“ Extraction |
| **Temperature** | â†‘ Extraction | â†“ Extraction |
| **Time** | â†‘ Extraction | â†“ Extraction |
| **Agitation** | â†‘ Extraction | â†“ Extraction |
| **Coffee Dose** | â†‘ Strength (not extraction %) | â†“ Strength |
| **Water Amount** | â†“ Strength (not extraction %) | â†‘ Strength |

### Balancing Act

**Too Sour?** Need more extraction:
1. Grind finer (biggest impact)
2. Increase water temperature
3. Extend brew time
4. More agitation

**Too Bitter?** Need less extraction:
1. Grind coarser (biggest impact)
2. Decrease water temperature
3. Shorten brew time
4. Less agitation

**Too Weak?** Need more strength:
1. More coffee (increase dose)
2. Less water (decrease ratio)
3. Check grind (may also need finer)

**Too Strong?** Need less strength:
1. Less coffee (decrease dose)
2. More water (increase ratio)
3. Can maintain extraction level

---

## ðŸ§¬ Flavor Compound Categories

### Major Flavor Contributors

**Acids** (Brightness):
- Citric acid â†’ lemon, citrus
- Malic acid â†’ apple, pear
- Acetic acid â†’ vinegar (small amounts OK)
- Chlorogenic acids â†’ brightness, astringency
- Quinic acid â†’ bitterness (develops over time in brewed coffee)

**Sugars** (Sweetness):
- Sucrose (breaks down during roasting)
- Fructose â†’ fruit sweetness
- Glucose â†’ sweetness
- Caramelized sugars â†’ toffee, caramel

**Lipids** (Body):
- Diterpenes (cafestol, kahweol)
- Fatty acids
- Create mouthfeel and texture
- Filtered by paper, retained by metal

**Alkaloids** (Bitterness):
- Caffeine â†’ bitter, stimulant
- Trigonelline â†’ bitterness, converts to niacin (vitamin B3)

**Phenolic Compounds** (Astringency):
- Chlorogenic acids
- Can create dry, puckering sensation
- Some desirable (complexity), too much = harsh

### Volatile Aromatic Compounds

**Over 850 identified compounds**:

**Floral**: 
- 2-Phenylethanol â†’ rose
- Linalool â†’ lavender
- Geraniol â†’ floral, sweet

**Fruity**:
- Esters â†’ berry, fruit
- Furanones â†’ strawberry, caramel
- Aldehydes â†’ apple, almond

**Nutty/Chocolate**:
- Pyrazines â†’ roasted, nutty, earthy
- Melanoidins â†’ chocolate, caramel
- Furans â†’ caramel, sweet

**Spice**:
- Guaiacol â†’ smoky, spicy
- Eugenol â†’ clove
- Vanillin â†’ vanilla

---

## ðŸŽ“ Brewing Method Extraction Comparison

### Extraction Levels by Method

| Method | Typical Extraction | Contact Time | Strength (TDS) |
|--------|-------------------|--------------|----------------|
| **Espresso** | 18-22% | 25-30 sec | 8-12% |
| **Pour-over** | 18-22% | 2.5-4 min | 1.2-1.5% |
| **French Press** | 18-24% | 4 min | 1.3-1.6% |
| **Aeropress** | 18-24% | 1-3 min | 2-4% |
| **Moka Pot** | 22-28% | 5-7 min | 4-8% |
| **Cold Brew** | 18-25% | 12-24 hours | 1.5-3% |
| **Turkish** | 25-35% | 3-4 min | 4-8% |

**Notes**:
- Espresso: High strength, controlled extraction
- Pour-over: Balanced, precise control
- French Press: Risk of over-extraction
- Aeropress: Concentrated but controllable
- Cold brew: Forgiving, long time compensates for temperature

---

## ðŸ”¬ Advanced Concepts

### Grind Distribution

**Particle Size Distribution**:
- All grinders produce range of sizes
- Fines: Very small particles (over-extract)
- Boulders: Large particles (under-extract)
- Modal peak: Target size

**Grinder Quality**:
- **Poor**: Wide distribution, lots of fines
- **Good**: Narrow distribution, fewer fines
- **Excellent**: Very narrow, minimal fines (EK43, high-end)

**Impact**:
- Fines over-extract (bitter, channel in espresso)
- Boulders under-extract (sour, wasted coffee)
- Narrow distribution = even extraction

### Channeling

**What It Is**:
- Water finds path of least resistance through coffee
- Creates channels where water flows fast
- Surrounding coffee under-extracts
- Channeled coffee over-extracts

**Causes**:
- Uneven distribution
- Tamping unlevel (espresso)
- Dry pockets during bloom
- Grind clumps

**Solutions**:
- WDT (Weiss Distribution Technique) for espresso
- Gentle stirring during bloom
- Even pour patterns (pour-over)
- Consistent grind

### Coffee Freshness & Degassing

**After Roasting**:
- CO2 trapped in beans (10-12 liters per kg)
- Degasses over days/weeks
- Dark roasts degas faster (more cell damage)
- Light roasts degas slower (less damage)

**Fresh Coffee** (0-7 days off roast):
- Very gassy, excessive bloom
- Can cause uneven extraction
- Espresso challenging (channeling)
- Pour-over can be OK

**Peak Coffee** (7-21 days off roast):
- Moderate degassing
- Even extraction
- Balanced flavors
- Optimal for most methods

**Aging Coffee** (21+ days):
- Less gas
- Flavor degradation begins
- Aromatics fade
- Still usable, not peak

**Stale Coffee** (60+ days):
- Flat taste
- Oxidized (cardboard flavor)
- Aromatic loss
- Use for cold brew if desperate

---

## ðŸ“ˆ Optimizing Your Brew

### Tasting & Adjusting Workflow

**Step 1: Brew with Standard Recipe**
- Use ratio guidelines for method
- Use target grind size
- Standard temperature
- Taste

**Step 2: Identify Issue**
- Too sour? Under-extracted
- Too bitter? Over-extracted
- Weak? Need more coffee or finer grind
- Strong but bad? Extraction problem, not strength

**Step 3: Make ONE Change**
- Grind size first (biggest impact)
- Then temperature
- Then ratio
- Then time/technique

**Step 4: Iterate**
- Make small adjustments
- Taste after each change
- Take notes
- Find sweet spot

**Step 5: Document**
- Log successful recipe
- Note grind setting (if numbered)
- Record parameters
- Repeat for consistency

---

## ðŸ”— References & Further Reading

### Books

**Science-Focused**:
- *The Physics of Filter Coffee* by Jonathan GagnÃ© (comprehensive physics)
- *The Coffee Roaster's Companion* by Scott Rao (roasting science)
- *Espresso Coffee: The Science of Quality* by Andrea Illy
- *Water for Coffee* by Maxwell Colonna-Dashwood & Christopher Hendon
- *The Craft and Science of Coffee* - Academic Press (textbook)

**Chemistry**:
- *Coffee: Chemistry* - Royal Society of Chemistry
- Food Chemistry journal articles on coffee extraction

### Research Papers

- Hendon, C. et al. (2014). "The Role of Dissolved Cations in Coffee Extraction" - *Journal of Agricultural and Food Chemistry*
- Gloess, A. et al. (2013). "Comparison of Nine Common Coffee Extraction Methods" - *European Food Research*
- Lockhart, E. (1957). "The Soluble Solids in Beverage Coffee" - Coffee Brewing Institute

### Online Resources

**Educational Sites**:
- [Barista Hustle Coffee Compass](https://www.baristahustle.com/blog/coffee-extraction-and-how-to-taste-it/) - Extraction guide
- [Scott Rao Blog](https://www.scottrao.com/blog) - Technical insights
- [Matt Perger - Barista Hustle](https://www.baristahustle.com/) - Scientific approach
- [Jonathan GagnÃ© - Coffee Ad Astra](https://coffeeadastra.com/) - Physics of coffee

**Tools**:
- [Socratic Coffee Calculator](https://socraticcoffee.com/) - Ratio/extraction calc
- [Brewslider App](https://brewslider.com/) - Recipe calculator
- VST CoffeeTools app - TDS and extraction

**Videos**:
- [James Hoffmann - Understanding Espresso](https://www.youtube.com/watch?v=d0g8umpINBU)
- [Barista Hustle - Espresso Compass](https://www.youtube.com/watch?v=FmpkKO3omYs)
- [Matt Perger - Coffee Extraction](https://www.youtube.com/watch?v=WzUYAkkgoME)

---

## ðŸ“Š Track Your Extraction Learning

### Suggested Log Properties

Add to coffee logs when experimenting:

```yaml
tds: 1.35
extraction-percent: 20.5
grinder-setting: 8.5
extraction-notes: Slightly under, try one click finer
```

### Extraction Experiment Query

```datacore
const experiments = dc.pages('"Coffee Logs"')
  .where(p => p["extraction-percent"])
  .sort(p => p.date, 'desc');

return experiments.length > 0 ? (
  <dc.Table rows={experiments} columns={[
    {id: "Beans", value: c => c.beans},
    {id: "Method", value: c => c["brew-method"]},
    {id: "Extraction %", value: c => c["extraction-percent"]},
    {id: "TDS", value: c => c.tds},
    {id: "Rating", value: c => c.rating}
  ]} />
) : (
  <p>Start measuring extraction to see data here!</p>
)
```

---

**Last Updated**: 2025-10-24  
**Complexity**: Advanced topic, beginner-friendly explanation  
**Related**: [[Brewing Guide]], [[Water Chemistry Guide]], [[History of Coffee]]

